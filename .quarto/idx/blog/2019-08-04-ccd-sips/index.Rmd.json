{"title":"Philly Center City Sips 2019: An Interactive Map","markdown":{"yaml":{"title":"Philly Center City Sips 2019: An Interactive Map","layout":"single-sidebar","date":"2019-08-04","image":"featured.png","slug":"ccd-sips","categories":["R"],"tags":["R","maps","leaflet","RSelenium"],"subtitle":"An interactive map showing restaurants participating in Philly’s Center City District Sips 2019.","summary":"An interactive map showing restaurants participating in Philly’s Center City District Sips 2019.","authors":[],"featured":"yes","links":[{"icon":"map-marked-alt","icon_pack":"fas","name":"Interactive Map","url":"https://tiny.cc/ccdsips2019"}]},"headingText":"importing data","containsRefs":false,"markdown":"\n\n> For a more recent map, check out [Philly Center City District Sips 2022: An Interactive Map](/blog/2022-ccd-sips/)\n\nI used **R** to play around with **webscraping** and create an [interactive map](http://tiny.cc/ccdsips2019) showing restaurants participating in Philly’s 2019 [Center City District Sips](https://web.archive.org/web/20190625050339/https://centercityphila.org/explore-center-city/ccdsips). Center City Sips is a series of summer Wednesday evenings filled with **happy hour specials**.\n\nThis mini-project was motivated by two of my close friends' frustration with the website shortcomings. **The information was presented beautifully, but there was no map view**! This made it difficult to figure out what happy hours you could check out nearby.\n\nThe map pop-ups could use information on the specials for each restaurant, but my newly acquired skills with the `RSelenium` and `Leaflet` packages weren't quite up to the task!\n\n<!--<div style=\"align: center; margin-left: -150px;\"> <iframe src=\"CCDSips2019.html\" width=\"1000px\" height=\"900px\" frameborder=\"0\"></iframe> </div>-->\n\n```{r setup, eval=TRUE, include=FALSE}\nlibrary(tidyverse)\nlibrary(leaflet)\nlibrary(leaflet.extras)\n\nsips <- readRDS(\"sips.rds\")\n```\n\n```{r create-map, eval=TRUE, echo=FALSE, out.width=\"100%\"}\n# Create the pop-up information with inline css styling\npopInfoCircles<-paste(\"<h2 style='border-bottom: thin dotted #43464C;\n    padding-bottom:4px; margin-bottom:4px;\n    font-family: Tahoma, Geneva, sans-serif;\n    color:#43464C;'>\", sips$Restaurant, \"</h2>\n    <h3 style=font-family: Tahoma, Geneva, sans-serif;\n    color:#9197A6;'>\", sips$Address, \"</h3>\")\n\npopInfoMarker<-paste(\"<h1 style='border-bottom: thin dotted #43464C;\n    padding-bottom:4px; margin-bottom:4px;\n    font-family: Tahoma, Geneva, sans-serif;\n    color:#43464C;'>\", \"Center City District Sips 2019\", \"</h1>\n    <span style='color:#9197A6;'>\", \"Philadelphia, PA\", \"<br>\")\n\n# Creating the map\nleaflet(data = sips) %>%\n  addCircles(lat = ~ sips$Latitude, lng = ~ sips$Longitude, color = \"olivedrab\",\n             fillOpacity=0.6, radius=8, popup = popInfoCircles) %>%\n  addProviderTiles(providers$CartoDB.Positron) %>%\n  setView(mean(sips$Longitude), mean(sips$Latitude), zoom=17) %>%\n  addMarkers(lng = mean(sips$Longitude), lat = mean(sips$Latitude), popup = popInfoMarker) %>% \n  leaflet.extras::addFullscreenControl()\n```\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../assets/styles.css"],"highlight-style":"assets/silvia-syntax.theme","toc":true,"output-file":"index.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.38","theme":["litera","../../assets/silvia-theme.scss"],"backgroundcolor":"#fffbf2","title-block-banner":false,"title":"Philly Center City Sips 2019: An Interactive Map","layout":"single-sidebar","date":"2019-08-04","image":"featured.png","slug":"ccd-sips","categories":["R"],"tags":["R","maps","leaflet","RSelenium"],"subtitle":"An interactive map showing restaurants participating in Philly’s Center City District Sips 2019.","summary":"An interactive map showing restaurants participating in Philly’s Center City District Sips 2019.","authors":[],"featured":"yes","links":[{"icon":"map-marked-alt","icon_pack":"fas","name":"Interactive Map","url":"https://tiny.cc/ccdsips2019"}]},"extensions":{"book":{"multiFile":true}}}}}