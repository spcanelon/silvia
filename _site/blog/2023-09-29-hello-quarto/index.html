<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Silvia Canel√≥n">
<meta name="dcterms.date" content="2023-09-29">
<title>Hello Quarto: Porting my Website from Hugo Ap√©ro ‚Äì Silvia Canel√≥n</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/silvia/img/logo_rounded.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/bootstrap-icons-1.9.1/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/size.css" rel="stylesheet">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><!-- umami cloud --><script async="" src="https://analytics.umami.is/script.js" data-website-id="6ba73b87-31aa-44ac-8d5e-e0dad5760753" data-do-not-track="true">
</script><link href="../../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../../site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="twitter:title" content="Hello Quarto: Porting my Website from Hugo Ap√©ro">
<meta name="twitter:description" content="Notes from porting my personal Blogdown website to Quarto">
<meta name="twitter:image" content="https://silviacanelon.com/blog/2023-09-29-hello-quarto/featured.jpg">
<meta name="twitter:creator" content="@spcanelon">
<meta name="twitter:site" content="@spcanelon">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../assets/silvia/img/logo_rounded.svg" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Silvia Canel√≥n</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../about/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talk/index.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publication/index.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../project/index.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://www.github.com/spcanelon/silvia" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns"><div id="title-block-header-title" class="quarto-title page-columns page-full page-layout-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);">
<h1 class="title">Hello Quarto: Porting my Website from Hugo Ap√©ro</h1>
<p class="subtitle lead">Notes from porting my personal Blogdown website to Quarto</p>
    <div class="quarto-categories">
        <div class="quarto-category">R</div>
        <div class="quarto-category">quarto</div>
        <div class="quarto-category">website</div>
      </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Silvia Canel√≥n </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 29, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">October 12, 2023</p>
    </div>
  </div>
    
  </div>
  


<div class="mt-4 d-flex flex-row flex-wrap gap-1 justify-content-left justify-content-sm-start" role="group" aria-label="Links">
<a href="https://quarto.org/docs/websites/" class="btn btn-secondary text-capitalize"><i class="bi bi-journal-text me-1"></i> Quarto Docs</a>
</div>

</header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#goodbye-hugo-ap%C3%A9ro" id="toc-goodbye-hugo-ap√©ro" class="nav-link active" data-scroll-target="#goodbye-hugo-ap%C3%A9ro">Goodbye, Hugo Ap√©ro</a></li>
  <li><a href="#why-port-to-quarto" id="toc-why-port-to-quarto" class="nav-link" data-scroll-target="#why-port-to-quarto">Why port to Quarto?</a></li>
  <li><a href="#the-cost-of-porting" id="toc-the-cost-of-porting" class="nav-link" data-scroll-target="#the-cost-of-porting">The cost of porting</a></li>
  <li>
<a href="#designing-the-site" id="toc-designing-the-site" class="nav-link" data-scroll-target="#designing-the-site">Designing the site</a>
  <ul class="collapse">
<li><a href="#structure" id="toc-structure" class="nav-link" data-scroll-target="#structure">Structure</a></li>
  <li><a href="#about-listing-pages" id="toc-about-listing-pages" class="nav-link" data-scroll-target="#about-listing-pages">About &amp; listing pages</a></li>
  <li><a href="#contact-form" id="toc-contact-form" class="nav-link" data-scroll-target="#contact-form">Contact form</a></li>
  </ul>
</li>
  <li>
<a href="#adapting-old-posts" id="toc-adapting-old-posts" class="nav-link" data-scroll-target="#adapting-old-posts">Adapting old posts</a>
  <ul class="collapse">
<li><a href="#yaml-fields" id="toc-yaml-fields" class="nav-link" data-scroll-target="#yaml-fields">YAML fields</a></li>
  <li><a href="#partials" id="toc-partials" class="nav-link" data-scroll-target="#partials">Partials</a></li>
  </ul>
</li>
  <li>
<a href="#styling-the-site" id="toc-styling-the-site" class="nav-link" data-scroll-target="#styling-the-site">Styling the site</a>
  <ul class="collapse">
<li><a href="#scss-variables" id="toc-scss-variables" class="nav-link" data-scroll-target="#scss-variables">SCSS variables</a></li>
  <li><a href="#individual-page-styling" id="toc-individual-page-styling" class="nav-link" data-scroll-target="#individual-page-styling">Individual page styling</a></li>
  <li><a href="#background-image-for-title-blocks" id="toc-background-image-for-title-blocks" class="nav-link" data-scroll-target="#background-image-for-title-blocks">Background image for title blocks</a></li>
  </ul>
</li>
  <li>
<a href="#setting-up-redirects" id="toc-setting-up-redirects" class="nav-link" data-scroll-target="#setting-up-redirects">Setting up redirects</a>
  <ul class="collapse">
<li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  <li><a href="#importing-manual-redirects" id="toc-importing-manual-redirects" class="nav-link" data-scroll-target="#importing-manual-redirects">Importing manual redirects</a></li>
  <li><a href="#listing-subdirectories" id="toc-listing-subdirectories" class="nav-link" data-scroll-target="#listing-subdirectories">Listing subdirectories</a></li>
  <li><a href="#defining-redirects" id="toc-defining-redirects" class="nav-link" data-scroll-target="#defining-redirects">Defining redirects</a></li>
  <li><a href="#writing-redirects-file" id="toc-writing-redirects-file" class="nav-link" data-scroll-target="#writing-redirects-file">Writing redirects file</a></li>
  </ul>
</li>
  <li><a href="#fin" id="toc-fin" class="nav-link" data-scroll-target="#fin">Fin</a></li>
  
  </ul></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content"><!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html --><!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
--><!-- <header id="title-block-header" class="quarto-title-block default page-columns"> --><!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> --><section id="goodbye-hugo-ap√©ro" class="level2"><h2 class="anchored" data-anchor-id="goodbye-hugo-ap√©ro">Goodbye, Hugo Ap√©ro</h2>
<p>In 2019 I created my first website using blogdown and the <a href="https://hugo-academic--silvia.netlify.app/">Hugo Academic theme</a>, and in 2021 I migrated that site to the <a href="https://hugo-apero--silvia.netlify.app/">Hugo Ap√©ro theme</a> created by Alison Hill. I even <a href="../2021-06-01-hello-hugo-apero/">documented that trek in great detail üòÖ</a> to provide something resembling a paved path for others to use on their journey adopting this beautiful and functional theme. Over the past two years, my Ap√©ro site became a wonderful place to cultivate a <a href="https://youtu.be/E5ERSfydB30?feature=shared&amp;t=694">digital garden</a><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. Now the time has come to say thank you, say goodbye, and travel down a new path. Enter Quarto.</p>
</section><section id="why-port-to-quarto" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="why-port-to-quarto">Why port to Quarto?</h2>
<p><a href="https://quarto.org">Quarto</a> is a new and powerful technical publishing system in active development, natively friendly to a variety of programming languages and IDEs. There are countless features available in Quarto that I was interested in having access to in my website, so I‚Äôll list just my top five:</p>
<ol type="1">
<li><p><strong>Flexibility in design.</strong> Quarto offers options for website navigation (top navigation vs.&nbsp;side navigation), ‚Äúabout‚Äù pages like the <a href="https://github.com/seankross/postcards#the-templates">postcard landing pages</a> that a lot of folks use in their distill sites, listing pages that are generated from a list of documents, among others. These components would act like modules that I could combine to design a site that truly fit my needs.</p></li>
<li><p><strong>Flexibility in content layout.</strong> With Quarto I would gain the ability to organize content in ways I hadn‚Äôt even dreamt of. Tables and figures could be laid out across multiple columns and rows as sub-tables and sub-figures of a panel. How much of the page the content took up would be up to me. Content could even go in the margin! ü§© </p></li>
<li><p><strong>Freezing computations.</strong> Quarto would give me the option to <a href="https://quarto.org/docs/websites/website-blog.html#freezing-posts">freeze posts</a> containing executable code. This was huge for me, because updating my blogdown site always produced a little bit of anxiety. I used to worry that blogdown might try to re-render old R Markdown blog posts and break things! üò±</p></li>
<li><p><strong>Site search.</strong> With content spread out over blog posts, talks, publications, and projects, I wanted site visitors (including myself!) to be able to keyword search for something in particular. Tags and categories in blogdown would get me part of the way there, but Quarto offers built-in search capability.</p></li>
<li><p><strong>Embedding computations.</strong> Ok this is a feature that I learned about a week ago at posit::conf(2023) from Mine √áetinkaya-Rundel‚Äôs talk ‚ÄúReproducible Manuscripts with Quarto.‚Äù Mine demo‚Äôd pulling a table from a <code>.qmd</code> file and a figure from an <code>.ipynb</code> file into the same manuscript <code>.qmd</code> file, <em>without having to execute the source code again</em>! üëÄ This is a game changer for anyone compiling results from computations performed in different files, and in my personal site I could see it coming in handy if I have a series of blog posts with outputs that I want to cross-reference. Currently we can only embed computations from Jupyter notebook files, but hopefully we‚Äôll be able to embed <code>.qmd</code> computations in Quarto v1.4! ü§ûüèΩ</p></li>
</ol><div class="no-row-height column-margin column-container"><span class="margin-aside">I mean, it‚Äôs pretty cool that content can go in the margin, right?? <br><br> It could even be a picture: <br><br><img src="featured.jpg" class="img-fluid" alt="There is a book open in the green grass with some yellow leaves around it"><br>The book page reads <em>verdere expedities</em> which is Dutch for ‚Äúfurther expeditions‚Äù</span></div></section><section id="the-cost-of-porting" class="level2"><h2 class="anchored" data-anchor-id="the-cost-of-porting">The cost of porting</h2>
<p>Gaining the aforementioned Quarto functionality did not come without a cost. To me, the biggest cost was the aesthetics ‚Äì the Hugo Ap√©ro theme is quite lovely! ‚Äì but I customized my Quarto site enough to reflect the design aspects I loved the most. <a href="#styling-my-site">More on styling later</a>. Some other costs included:</p>
<ul>
<li>
<p><strong>Loss of the sidebar layout.</strong> The Ap√©ro theme has options for adding a nicely styled sidebar that I had been using for my blog. It included a featured image and details about the individual post like tags, categories, length, etc. All of this information is available in Quarto posts, it‚Äôs just organized a little differently.</p>
<details><summary><p>Example of the sidebar</p>
</summary><p><a href="img/blog-sidebar-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="img/blog-sidebar-2.png" class="img-fluid" alt="Post title, author, date, and some content on the left hand side, and a sidebar with metadata on the right hand side. The image featured in the sidebar is a cactus plant in a terracota planter, sitting on top of a pile of books"></a></p>
</details>
</li>
<li>
<p><strong>Loss of Utterances comments.</strong> Any interactions with folks through Utteranc.es comments did not transfer over, and I‚Äôll miss them. The few comments on my site have been very kind (see example below) and I‚Äôve really enjoy reading them!</p>
<details><summary><p>Example of Utterances comments</p>
</summary><p><a href="img/utterances.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="img/utterances.png" class="img-fluid" alt="User @capolimia says 'Thank you so much!!!!!! This project last year helped me have a great summer, I appreciate your work!!!' and I respond 'Hi @capolimia, thank you for this comment! I don't how how I missed it. I'm happy to hear that the 2022 post was helpful to you! üöÄ'"></a></p>
</details><div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Update: Oct.&nbsp;12, 2023
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Thanks to Emily Riederer, I‚Äôm happy to report this is a non-issue! See her tips in the comments at the end of the post, or <a href="https://github.com/spcanelon/silvia/issues/100#issuecomment-1753438790">on GitHub</a>.</p>
</div>
</div>
</div>
</li>
<li><p><strong>Hugo Ap√©ro collections.</strong> The Ap√©ro theme had a way of bundling together posts that were related into a collection of posts. Garrick and I used this feature for our <a href="../../talk/2021-07-07-presentable-user2021/">user!2021 xaringan workshop</a> and it worked well to organize learning materials for different sections of our workshop. If I wanted something like this in the future, I would probably use Quarto‚Äôs sidebar navigation feature like Andrew Bray did in his <a href="https://rstudio-conf-2022.github.io/rmd-to-quarto/materials/">Rmd to Quarto workshop</a> for rstudio::conf(2022).</p></li>
<li><p><strong>Name pronunciation on the About page.</strong> Ap√©ro had a built-in option for adding an audio clip under your name that you could use to help people learn how your name is pronounced. I never used this feature myself, but if I wanted to, I could look to <a href="https://github.com/EmilHvitfeldt/emilhvitfeldt.com/blob/main/about.qmd#L20-L24">Emil Hvitfeldt‚Äôs site</a> as an example.</p></li>
<li><p><strong>Redirects.</strong> The Ap√©ro theme gave me the option to define the combination of date information and URL slugs for each of my posts, and I had them set up as <strong>year-slug</strong> (e.g., blog/2023-hello-quarto). Quarto does not offer that functionality and strictly creates URLs for posts based on the filepath (e.g., blog/2023-09-29-hello-quarto). In order to continue using my <strong>year-month-day-slug</strong> naming convention for my post folders, I had to set up redirects from the old URLs to the new ones so that there wouldn‚Äôt be broken links sprinkled throughout the internet. <a href="#setting-up-redirects">More on redirects later</a>.</p></li>
</ul></section><section id="designing-the-site" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="designing-the-site">Designing the site</h2>
<p>Ap√©ro had posts in the <code>content</code> folder but with Quarto I could pull blog, talk, publication, and project subfolders into the root folder.</p>
<section id="structure" class="level3"><h3 class="anchored" data-anchor-id="structure">Structure</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Quarto</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Hugo Ap√©ro</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> _quarto.yml</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> about</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> blog</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> talk</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> publication</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> project</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> index.qmd</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îî‚îÄ‚îÄ</span> silvia.Rproj</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> content</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îÇ</span>   ‚îú‚îÄ‚îÄ _index.md</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îÇ</span>   ‚îú‚îÄ‚îÄ about    </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îÇ</span>   ‚îú‚îÄ‚îÄ blog      </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îÇ</span>   ‚îú‚îÄ‚îÄ project</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îÇ</span>   ‚îú‚îÄ‚îÄ publication</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îÇ</span>   ‚îî‚îÄ‚îÄ talk</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> config.toml</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> netlify.toml</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îú‚îÄ‚îÄ</span> index.Rmd</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="ex">‚îî‚îÄ‚îÄ</span> silvia.Rproj</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="about-listing-pages" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="about-listing-pages">About &amp; listing pages</h3>
<div class="page-columns page-full"><p>I decided to use a combination of <a href="https://quarto.org/docs/websites/website-about.html">about pages</a> and <a href="https://quarto.org/docs/websites/website-listings.html">listing pages</a> to replicate the site structure I enjoyed in my Ap√©ro site. I used an about page layout for both my home and about pages, and listing pages to generate a list of blog posts, talks, publications, and projects. There was also some custom CSS involved, but we haven‚Äôt gotten to that part of the blog post yet wink üòâ </p><div class="no-row-height column-margin column-container"><span class="margin-aside">Dear reader, it‚Äôs at this point in my blog post drafting that I start realizing that what was meant to be a brief post is turning into a novel (<em>sigh</em>)</span></div></div>
<p>One of the aspects I liked about my Ap√©ro site was that the About page highlighted the most recent posts from the blog, talk, publication, and project groups. In my Quarto site, I achieved this by including a one-entry listing grid for each group on my <a href="../../about/index.html">About page</a>.</p>
<div class="callout callout-style-simple callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
CSS tip
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>These listing cards looked great on a wide screen but as the screen got narrower (think mobile device) the listing cards just became narrower and narrower üòÇ. I took care of this by tweaking the CSS so that the cards would wrap.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>assets/about.css</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="assets/about.css" data-startfrom="63"><pre class="sourceCode css code-with-copy"><code class="sourceCode css" style="counter-reset: source-line 62;"><span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>  <span class="co">/* wrap lately section */</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>  <span class="pp">#lately</span> <span class="fu">.grid</span> {</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>    <span class="kw">flex-wrap</span><span class="ch">:</span> <span class="dv">wrap</span><span class="op">;</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>  <span class="co">/* listings */</span></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>  <span class="pp">#blog</span><span class="op">,</span> <span class="pp">#talks</span><span class="op">,</span> <span class="pp">#publications</span><span class="op">,</span> <span class="pp">#projects</span> {</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>    <span class="kw">flex-basis</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span> <span class="at">!important</span><span class="op">;</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://github.com/spcanelon/silvia/blob/32853dd0e70a71514b0922ee306f80ed5897f776/assets/about.css#L63-L72"><i class="fa-solid fa-code-branch" title="Git" aria-label="code-branch"></i> source code</a></p>
</div>
</div>
</div>
</section><section id="contact-form" class="level3"><h3 class="anchored" data-anchor-id="contact-form">Contact form</h3>
<p>The last structural piece I wanted to recreate from Ap√©ro was a <a href="../../contact.html">contact form</a>. I saw a great example on Michael McCarthy‚Äôs <a href="https://tidytales.ca/about/">Tidy Tales blog</a>, site and did a little <a href="https://github.com/mccarthy-m-g/tidytales/blob/main/about/index.qmd#L24-L46">repo-diving</a> to get ideas on how to organize the content. I ended up using the <a href="https://quarto.org/docs/output-formats/page-layout.html#css-grid">Bootstrap CSS Grid</a> to layout the content exactly how I wanted to. See what I mean about Quarto offering a lot of flexibility in content layout?</p>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bones of the contact page
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>contact.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="contact.qmd"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- start grid --&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>::: {.grid} </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- column for the body text --&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>::: {.g-col-5}</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a># Send me a note</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span> Body text&gt;</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span> HTML code for social media icons &gt;</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- column for spacing --&gt;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>::: {.g-col-1}</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- column for the form --&gt;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>::: {.g-col-6}</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span> HTML embed code provided by Formspree &gt;</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- end grid --&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://github.com/spcanelon/silvia/blob/32853dd0e70a71514b0922ee306f80ed5897f776/contact.qmd#L18-L60"><i class="fa-solid fa-code-branch" title="Git" aria-label="code-branch"></i> source code</a></p>
</div>
</div>
</div>
</section></section><section id="adapting-old-posts" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="adapting-old-posts">Adapting old posts</h2>
<section id="yaml-fields" class="level3"><h3 class="anchored" data-anchor-id="yaml-fields">YAML fields</h3>
<p>Ok so once I figured out how to incorporate all of the structural elements I wanted, I had to deal with the (relatively small) challenge of porting my old posts to Quarto. Quarto was designed to be compatible with existing R Markdown documents, but I didn‚Äôt actually want it trying to re-render old R Markdown files so I had Quarto ignore those completely<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> and render the Markdown version of each post instead<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. There were also a handful of YAML fields that I had to remove or modify to play nicely with Quarto:</p>
<ul>
<li>Remove <code>layout:</code> (e.g., <code>layout: single-sidebar</code>)</li>
<li>Remove <code>publishDate</code>
</li>
<li>Remove <code>lastUpdated</code>
</li>
<li>Remove <code>featured</code> (e.g., <code>featured: yes</code>)</li>
<li>Merge <code>categories</code> with <code>tags</code> and keep <code>tags</code>
</li>
<li>Add <code>image</code> (e.g.&nbsp;<code>image: featured.png</code>)</li>
</ul></section><section id="partials" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="partials">Partials</h3>
<p>If you‚Äôve used Ap√©ro you might have come to love the cute button links created from the <code>links</code> field in the YAML, like the one at the top of this post, pointing to the Quarto docs.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">links</span><span class="kw">:</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">icon</span><span class="kw">:</span><span class="at"> journal-text</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Quarto Docs</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">url</span><span class="kw">:</span><span class="at"> https://quarto.org/docs/websites/</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Well, these button links are not ready-made by Quarto, but lucky for me (us!), Garrick figured out a way to bring them in right where we I need them. I repo-dived and found that he modified an <a href="https://quarto.org/docs/journals/templates.html#html-partials">HTML partial for title blocks</a>, which controls the layout and styling of the post title, description, and tags, shown at the top of the page.</p>
<p>The original title block partial has sections controlling the placement and styling of text provided in the title, subtitle, authors, date, and abstract fields of the document YAML.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside">As an example, line 2 might read:<br>If there‚Äôs something in the <strong>title</strong> field of the YAML, give it a level 1 heading and style it with CSS class <code>.title</code></span></div></div>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>github.com/quarto-dev/quarto-cli/src/resources/formats/html/pandoc/title-block.html</strong></pre>
</div>
<div class="sourceCode" id="cb6" data-filename="github.com/quarto-dev/quarto-cli/src/resources/formats/html/pandoc/title-block.html"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb6-1"><a href="#cb6-1"></a><span class="dt">&lt;</span><span class="kw">header</span><span class="ot"> id</span><span class="op">=</span><span class="st">"title-block-header"</span><span class="dt">&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>$if(title)$<span class="dt">&lt;</span><span class="kw">h1</span><span class="ot"> class</span><span class="op">=</span><span class="st">"title"</span><span class="dt">&gt;</span>$title$<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span>$endif$</span>
<span id="cb6-3"><a href="#cb6-3"></a>$if(subtitle)$</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"subtitle"</span><span class="dt">&gt;</span>$subtitle$<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>$endif$</span>
<span id="cb6-6"><a href="#cb6-6"></a>$for(author)$</span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"author"</span><span class="dt">&gt;</span>$author$<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>$endfor$</span>
<span id="cb6-9"><a href="#cb6-9"></a></span>
<span id="cb6-10"><a href="#cb6-10"></a>$if(date)$</span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"date"</span><span class="dt">&gt;</span>$date$<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb6-12"><a href="#cb6-12"></a>$endif$</span>
<span id="cb6-13"><a href="#cb6-13"></a>$if(abstract)$</span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"abstract"</span><span class="dt">&gt;</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"abstract-title"</span><span class="dt">&gt;</span>$abstract-title$<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb6-16"><a href="#cb6-16"></a>$abstract$</span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb6-18"><a href="#cb6-18"></a>$endif$</span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="dt">&lt;/</span><span class="kw">header</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <a href="https://github.com/spcanelon/silvia/blob/32853dd0e70a71514b0922ee306f80ed5897f776/_partials/title-block-link-buttons/title-block.html">modified partial <i class="fa-solid fa-code-branch" title="Git" aria-label="code-branch"></i></a> includes some additional sections but I‚Äôll break down the one for links.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside">There‚Äôs more styling going on in the modified partial, but starting on line 6, the structure for the link buttons is effectively:<br><br>If the <strong>links</strong> field is populated in the YAML, create an HTML container styled by some CSS, and give it some specific HTML properies.<br><br>Then, for each sub-item of the <strong>links</strong> field: create a hyperlink from the <strong>url</strong> sub-item, apply some CSS classes to create the button, add a Bootstrap icon defined by the <strong>icon</strong> sub-item, and finally add hyperlink text defined by the <strong>name</strong> sub-item.</span></div></div>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>_partials/title-block-link-buttons/title-block.html</strong></pre>
</div>
<div class="sourceCode" id="cb7" data-filename="_partials/title-block-link-buttons/title-block.html"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb7-1"><a href="#cb7-1"></a><span class="dt">&lt;</span><span class="kw">header</span><span class="ot"> id</span><span class="op">=</span><span class="st">"title-block-header"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"quarto-title-block default page-columns"</span><span class="dt">&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>...</span>
<span id="cb7-3"><a href="#cb7-3"></a>$if(links)$</span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"mt-4 d-flex flex-row flex-wrap gap-1 justify-content-left justify-content-sm-start"</span><span class="ot"> role</span><span class="op">=</span><span class="st">"group"</span><span class="ot"> aria-label</span><span class="op">=</span><span class="st">"Links"</span><span class="dt">&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>$for(links)$</span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="dt">&lt;</span><span class="kw">a</span><span class="ot"> href</span><span class="op">=</span><span class="st">"$links.url$"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"btn btn-secondary text-capitalize"</span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bi bi-$links.icon$ me-1"</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>$links.name$<span class="dt">&lt;/</span><span class="kw">a</span><span class="dt">&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>$endfor$</span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>$endif$</span>
<span id="cb7-10"><a href="#cb7-10"></a>...</span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="dt">&lt;/</span><span class="kw">header</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="styling-the-site" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="styling-the-site">Styling the site</h2>
<section id="scss-variables" class="level3"><h3 class="anchored" data-anchor-id="scss-variables">SCSS variables</h3>
<p>I may have published my brand new Quarto site in the fall of 2023, but I had actually taken my first go at porting it from Ap√©ro in the fall of 2022. In an attempt to replicate the styling of my old site I tried to strong-arm my Quarto site into using tachyons<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>, and I wrote <strong>way too much</strong> custom CSS in the process üò©.</p>
<p>Something didn‚Äôt feel right about it, so I took a break and came back to my in-progress Quarto site several months later ‚Äì outside of the Quarto release craze, and with the perspective that I wanted to work <em>with</em> the built-in theming capabilities, rather than against them üòå. This time around I leaned into the Bootstrap SCSS variables, and added custom styling as needed.</p>
<p>To be more specific, I created a <a href="https://github.com/spcanelon/silvia/blob/32853dd0e70a71514b0922ee306f80ed5897f776/assets/silvia-theme.scss">custom theme <i class="fa-solid fa-code-branch" title="Git" aria-label="code-branch"></i></a><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>, and populated it with definitions for some of the <a href="https://quarto.org/docs/output-formats/html-themes.html#sass-variables">built-in Bootstrap Sass variables</a>. If you poke around my custom theme, you will notice that some colors are defined by color variables that start with <code>$spc-</code>. These are variables pointing to colors that I‚Äôve defined elsewhere, and they can be replaced with a hex code of your choosing! üé®</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>assets/silvia-theme.scss</strong></pre>
</div>
<div class="sourceCode" id="cb8" data-filename="assets/silvia-theme.scss"><pre class="sourceCode scss code-with-copy"><code class="sourceCode scss"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">/*-- scss:defaults --*/</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">// Colors</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="va">$primary</span>:                    <span class="va">$spc-primary-light</span><span class="op">;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="va">$secondary</span>:                  <span class="va">$spc-secondary</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The Sass variables listed in the documentation got me pretty far, but there were still elements of my site using default colors and styling that I wanted to change. So I repo-dived to learn about additional Quarto Bootstrap variables and rules:</p>
<ul>
<li>Bootstrap variables: <a href="https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/formats/html/bootstrap/_bootstrap-variables.scss" class="uri">https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/formats/html/bootstrap/_bootstrap-variables.scss</a>
</li>
<li>Bootstrap rules: <a href="https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/formats/html/bootstrap/_bootstrap-rules.scss" class="uri">https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/formats/html/bootstrap/_bootstrap-rules.scss</a>
</li>
</ul>
<p>To give you an example, someone in the Quarto Discussions forum asked <a href="https://github.com/quarto-dev/quarto-cli/discussions/2490">how to set the color of block quotes, figure captions, and outlines</a>, something not defined in the documentation. One of the replies suggested using the browser‚Äôs inspector to find the CSS rule applied to the element in question, we‚Äôll say the figure caption, and then looking at how Quarto implemented that rule. I‚Äôll make that process a little more explicit here and use the figure caption as an example:</p>
<ol type="1">
<li><p>Use the browser inspector to highlight a figure caption</p></li>
<li><p>The inspector will reveal that the element is styled by CSS class <code>.figure-caption</code></p></li>
<li><p>Run a keyword search for ‚Äúfigure-caption‚Äù in the <a href="https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/formats/html/bootstrap/_bootstrap-variables.scss">Bootstrap variables file</a>. This will yield no results ü§î</p></li>
<li>
<p>Run the same keyword search in the <a href="https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/formats/html/bootstrap/_bootstrap-rules.scss">Bootstrap rules file</a> ‚Äì success! We have a clue, which is that <code>.figure-caption</code> is styled by a variable named <code>body-secondary</code> üîç</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode scss code-with-copy"><code class="sourceCode scss"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">.panel-caption</span><span class="op">,</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">.figure-caption</span><span class="op">,</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">.subfigure-caption</span><span class="op">,</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">.table-caption</span><span class="op">,</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>figcaption<span class="fu">.quarto-float-caption</span><span class="op">,</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>caption {</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">font-size</span>: <span class="dv">0.9</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="im">@include</span> body-secondary<span class="op">;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</li>
<li>
<p>Define your own <code>body-secondary</code> color variable in your custom theme file</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>assets/custom-theme.scss</strong></pre>
</div>
<div class="sourceCode" id="cb10" data-filename="assets/custom-theme.scss"><pre class="sourceCode scss code-with-copy"><code class="sourceCode scss"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">/*-- scss:defaults --*/</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="va">$body-secondary</span>: <span class="cn">#6C757D</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</li>
<li><p>Enjoy the fruits of your labor as a CSS detective üïµüèΩ‚Äç‚ôÄÔ∏è</p></li>
</ol></section><section id="individual-page-styling" class="level3"><h3 class="anchored" data-anchor-id="individual-page-styling">Individual page styling</h3>
<p>In some cases, I wanted to style individual pages differently than I was styling my entire site. Poking around Garrick‚Äôs repo (again!), I learned that you can reference CSS stylesheets in the YAML of any particular document. I used this approach to separately style my Home, About, and listing pages.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>index.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb11" data-filename="index.qmd" data-startfrom="42"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml" style="counter-reset: source-line 41;"><span id="cb11-42"><a href="#cb11-42"></a><span class="fu">execute</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb11-43"><a href="#cb11-43"></a><span class="at">  </span><span class="fu">freeze</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb11-44"><a href="#cb11-44"></a><span class="at">  </span><span class="fu">echo</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb11-45"><a href="#cb11-45"></a><span class="at">  </span><span class="fu">warning</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>
<code>index.qmd</code> <a href="https://github.com/spcanelon/silvia/blob/32853dd0e70a71514b0922ee306f80ed5897f776/index.qmd#L42-L45"><i class="fa-solid fa-code-branch" title="Git" aria-label="code-branch"></i> source code</a>
</li>
<li>
<code>assets/index.css</code> <a href="https://github.com/spcanelon/silvia/blob/32853dd0e70a71514b0922ee306f80ed5897f776/assets/index.css"><i class="fa-solid fa-code-branch" title="Git" aria-label="code-branch"></i> source code</a>
</li>
</ul></section><section id="background-image-for-title-blocks" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="background-image-for-title-blocks">Background image for title blocks</h3>
<p>Ok one of the aesthetic pieces I was excited to add to my Quarto site that I <em>didn‚Äôt</em> have in my old site is a featured image at the top of each post. I was inspired by Matt Worthington‚Äôs site while I was reading one of his excellent blog posts on <a href="https://www.mrworthington.com/articles/rstats/mapping-in-r/">a workflow for interactive maps in R</a> ‚Äì I loved that the title block included an image in the background! ü§©</p>
<p>After some web inspecting and <a href="https://github.com/mrworthington/mrworthington.github.io/blob/master/articles/rstats/mapping-in-r/page_header.css">repo-diving in Matt‚Äôs website repo</a> I came up with some styling that I could apply to the title block of each post. It took modifying the <a href="#partials">title block partial</a> described earlier, and adding some CSS to my custom theme.</p>
<p>For styling that I wanted to apply uniformly to all post title blocks, I created a <code>.featured-image</code> CSS class in my custom theme:</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside">Don‚Äôt miss the <a href="https://quarto.org/docs/authoring/code-annotation.html">code annotations</a> for this code chunk! üëÄ <br>Such a cool feature!</span></div></div>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>assets/custom-theme.scss</strong></pre>
</div>
<div class="sourceCode" id="annotated-cell-6" data-filename="assets/custom-theme.scss"><pre class="sourceCode scss code-annotation-code code-with-copy code-annotated"><code class="sourceCode scss"><span id="annotated-cell-6-1"><a href="#annotated-cell-6-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">// style background image on posts</span></span>
<span id="annotated-cell-6-2"><a href="#annotated-cell-6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.featured-image</span> {</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-6-3" class="code-annotation-target"><a href="#annotated-cell-6-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">background-size</span>: <span class="dv">cover</span><span class="op">;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-6-4" class="code-annotation-target"><a href="#annotated-cell-6-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">background-position</span>: <span class="dv">center</span><span class="op">;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-6-5" class="code-annotation-target"><a href="#annotated-cell-6-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-6-6" class="code-annotation-target"><a href="#annotated-cell-6-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">box-shadow</span>: <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1000</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span><span class="dv">38</span><span class="op">,</span><span class="dv">66</span><span class="op">,</span><span class="dv">0.75</span><span class="fu">)</span><span class="op">;</span></span>
<span id="annotated-cell-6-7"><a href="#annotated-cell-6-7" aria-hidden="true" tabindex="-1"></a>  }</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-6" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="3" data-code-annotation="1">Have the image cover the background</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="4" data-code-annotation="2">Center the image</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="5" data-code-annotation="3">Make the overlaying text color white</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="6" data-code-annotation="4">Add shadowing that gives the appearance of a dark overlay</span>
</dd>
</dl>
<p>Alright, but why didn‚Äôt I use a <code>background-image</code> property to define the image? If I define the background image in my <code>.featured-image</code> class then that is the image that‚Äôs going to show up in all of the posts across my site. I want the title block of each post to display the featured image belonging to each individual post. That‚Äôs where the partial comes back in.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>_partials/title-block-link-buttons/title-block.html</strong></pre>
</div>
<div class="sourceCode" id="cb12" data-filename="_partials/title-block-link-buttons/title-block.html"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ot">id</span><span class="op">=</span><span class="st">"title-block-header-title"</span><span class="ot"> </span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ot">class</span><span class="op">=</span><span class="st">"quarto-title page-columns page-full page-layout-full featured-image p-4"</span><span class="ot"> </span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="ot">style</span><span class="op">=</span><span class="st">"background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"</span><span class="dt">&gt;</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Along with some other CSS classes, the div container for the title block is styled with the <code>featured-image</code> class defined earlier, using the <code>class=</code> property. In addition, the div itself is styled using the <code>style=</code> property, and that‚Äôs where I defined the background image. The partial will look for a featured image of some kind either in the same folder as the post, or in the parent folder, and display it in the background of the title block.</p>
<p>This is a hacky way of getting what I really want which is for the partial to check for a featured image in the order I specify and then just stop once it finds one. As it stands right now, the styling attempts to layer on all three images, with the first image on the top and the last image on the bottom. This means that I get a warning every time I preview or render my site because the partial can‚Äôt find one or two of the other urls, but I‚Äôm ok with that!</p>
<div class="callout callout-style-simple callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example warning
</div>
</div>
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb13"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>/blog/2023-09-29-hello-quarto/featured.png (404: Not Found)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section></section><section id="setting-up-redirects" class="level2"><h2 class="anchored" data-anchor-id="setting-up-redirects">Setting up redirects</h2>
<section id="resources" class="level3"><h3 class="anchored" data-anchor-id="resources">Resources</h3>
<p>Last but not least, I can‚Äôt finish this blog post without talking about the necessary task of redirecting old Ap√©ro URLs to new Quarto ones <a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>. Many thanks to Danielle Navarro and Tom Mock for documenting their solutions for automatically generating a <code>_redirects</code> file with each render of the site.</p>
<ul>
<li>Danielle‚Äôs blog post: <a href="https://blog.djnavarro.net/posts/2022-04-20_porting-to-quarto/#netlify-redirects">Notes from a data witch - Porting a distill blog to quarto</a>
</li>
<li>Tom‚Äôs source code: <a href="https://github.com/jthomasmock/themockup-blog/blob/bb069ef7315ad47d877f27c5052cc886ad80818e/index.qmd#L27C1-L48C4">index.qmd - The MockUp</a>
</li>
</ul>
<p>I adapted their code to (1) fit my site, which has multiple folders of posts that all need redirects, and (2) combine these automatically generated redirects with ones I had already defined manually. I placed this code within my <a href="https://github.com/spcanelon/silvia/blob/main/index.qmd#L61-L114">home page index.qmd file <i class="fa-solid fa-code-branch" title="Git" aria-label="code-branch"></i></a> and I specified <code>freeze: false</code> in the YAML so that the code would run each time I rendered the site. The following sections will take a look at the code piece by piece.</p>
</section><section id="importing-manual-redirects" class="level3"><h3 class="anchored" data-anchor-id="importing-manual-redirects">Importing manual redirects</h3>
<p>The first step imports the manually-defined redirects that I had already been using in my old site. These redirects primarily have the task of redirecting my <code>rbind.io</code> domain to my custom domain <code>silviacanelon.com</code>.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>index.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">manual_redirects</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_table.html">read_table</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"static"</span>, <span class="st">"_manualredirects.txt"</span><span class="op">)</span>,</span>
<span>                    col_names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>redirect <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">X1</span>, <span class="st">" "</span>, <span class="va">X2</span>, <span class="st">" "</span>, <span class="va">X3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">manual_redirects</span> <span class="op">&lt;-</span> <span class="va">manual_redirects</span><span class="op">$</span><span class="va">redirect</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">manual_redirects</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "https://silvia.rbind.io/authors/silvia/avatar.png https://silviacanelon.com/about/sidebar/avatar.png 301!"
[2] "https://silvia.rbind.io/post/* https://silviacanelon.com/blog/:splat 301!"                                
[3] "https://silvia.rbind.io/blog/* https://silviacanelon.com/blog/:splat 301!"                                
[4] "https://silvia.rbind.io/talk/* https://silviacanelon.com/talk/:splat 301!"                                
[5] "https://silvia.rbind.io/project/* https://silviacanelon.com/project/:splat 301!"                          
[6] "http://silvia.rbind.io/* https://silviacanelon.com/:splat 301!"                                           </code></pre>
</div>
</div>
</section><section id="listing-subdirectories" class="level3"><h3 class="anchored" data-anchor-id="listing-subdirectories">Listing subdirectories</h3>
<p>The next step defines a function that obtains a list of subdirectories, iterates it over the four groups of posts in my site (blog posts, talks, publications, and projects), and compiles the files into a data frame.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>index.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># function: obtain list of post paths</span></span>
<span><span class="va">list_paths</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">folder</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">posts</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.dirs</a></span><span class="op">(</span></span>
<span>    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="va">folder</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    full.names <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    recursive <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble_col</a></span><span class="op">(</span>column_name <span class="op">=</span> <span class="st">"path"</span><span class="op">)</span>  <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="va">folder</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># define post folders</span></span>
<span><span class="va">folders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"blog"</span>, <span class="st">"project"</span>, <span class="st">"publication"</span>, <span class="st">"talk"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># list post paths by folder</span></span>
<span><span class="va">posts</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">folders</span>, <span class="va">list_paths</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/list_c.html">list_rbind</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">posts</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["path"],"name":[1],"type":["chr"],"align":["left"]},{"label":["folder"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"2020-05-12-trello-to-airtable","2":"blog"},{"1":"2020-05-26-dark-mode-custom-with-atom","2":"blog"},{"1":"2020-10-07-rstudio-instructor-certification-tidyverse","2":"blog"},{"1":"2021-03-16-deploying-xaringan-slides","2":"blog"},{"1":"2021-06-01-hello-hugo-apero","2":"blog"},{"1":"2021-06-02-wave-audit-1","2":"blog"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section><section id="defining-redirects" class="level3"><h3 class="anchored" data-anchor-id="defining-redirects">Defining redirects</h3>
<p>This next chunk removes the month and day from <strong>year-month-day-slug</strong> so that I‚Äôm left with shorter paths with the format <strong>year-slug</strong>, and uses these paths and the folders they are housed in to create redirects.</p>
<p>The resulting redirects will point the short <strong>year-slug</strong> link to this blog post:</p>
<p><a href="https://silviacanelon.com/blog/2023-hello-quarto" class="uri">https://silviacanelon.com/blog/2023-hello-quarto</a></p>
<p>To the longer <strong>year-month-day-slug</strong> Quarto link to this post:</p>
<p><a href="https://silviacanelon.com/blog/2023-09-29-hello-quarto" class="uri">https://silviacanelon.com/blog/2023-09-29-hello-quarto</a></p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># extract short paths and create redirects</span></span>
<span><span class="va">posts</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">posts</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    <span class="co"># extract the year-slugs</span></span>
<span>    short_path <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"(?!\\d{4}-)\\d{2}-\\d{2}-(?!\\d)"</span><span class="op">)</span>,</span>
<span>    <span class="co"># create short paths</span></span>
<span>    short_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">folder</span>, <span class="st">"/"</span>, <span class="va">short_path</span><span class="op">)</span>,</span>
<span>    <span class="co"># create lines to insert to a netlify _redirect file</span></span>
<span>    redirects <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"/"</span>, <span class="va">short_path</span>, <span class="st">" "</span>, <span class="st">"/"</span>, <span class="va">folder</span>, <span class="st">"/"</span>, <span class="va">path</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">posts</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["path"],"name":[1],"type":["chr"],"align":["left"]},{"label":["folder"],"name":[2],"type":["chr"],"align":["left"]},{"label":["short_path"],"name":[3],"type":["chr"],"align":["left"]},{"label":["redirects"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"2020-05-12-trello-to-airtable","2":"blog","3":"blog/2020-trello-to-airtable","4":"/blog/2020-trello-to-airtable /blog/2020-05-12-trello-to-airtable"},{"1":"2020-05-26-dark-mode-custom-with-atom","2":"blog","3":"blog/2020-dark-mode-custom-with-atom","4":"/blog/2020-dark-mode-custom-with-atom /blog/2020-05-26-dark-mode-custom-with-atom"},{"1":"2020-10-07-rstudio-instructor-certification-tidyverse","2":"blog","3":"blog/2020-rstudio-instructor-certification-tidyverse","4":"/blog/2020-rstudio-instructor-certification-tidyverse /blog/2020-10-07-rstudio-instructor-certification-tidyverse"},{"1":"2021-03-16-deploying-xaringan-slides","2":"blog","3":"blog/2021-deploying-xaringan-slides","4":"/blog/2021-deploying-xaringan-slides /blog/2021-03-16-deploying-xaringan-slides"},{"1":"2021-06-01-hello-hugo-apero","2":"blog","3":"blog/2021-hello-hugo-apero","4":"/blog/2021-hello-hugo-apero /blog/2021-06-01-hello-hugo-apero"},{"1":"2021-06-02-wave-audit-1","2":"blog","3":"blog/2021-wave-audit-1","4":"/blog/2021-wave-audit-1 /blog/2021-06-02-wave-audit-1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section><section id="writing-redirects-file" class="level3"><h3 class="anchored" data-anchor-id="writing-redirects-file">Writing redirects file</h3>
<p>The last step takes the <strong>redirects</strong> from the data frame produced in the previous step, combines them with the manual redirects, and writes them to a new text file <code>_redirects</code>. This file is written into the <code>_site</code> folder where my Quarto site is rendered, and where Netlify will know to find it.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>index.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># extract redirects</span></span>
<span><span class="va">redirects</span> <span class="op">&lt;-</span> <span class="va">posts</span><span class="op">$</span><span class="va">redirects</span></span>
<span></span>
<span><span class="co"># combine with manual redirects</span></span>
<span><span class="va">redirects_combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">manual_redirects</span>, <span class="va">redirects</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># write the _redirect file</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span><span class="op">(</span><span class="va">redirects_combined</span>, <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"_site"</span>, <span class="st">"_redirects"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section></section><section id="fin" class="level2"><h2 class="anchored" data-anchor-id="fin">Fin</h2>
<p>Now that it‚Äôs been over a year since Quarto made its debut, there are so many wonderful blog posts walking folks through how to create a Quarto site. My hope is that the notes I took in this blog post help provide some stepping stones for folks making the transition from blogdown sites, and offer some ideas for what is possible with the flexibility of this new publishing framework. I, for one, am looking forward to growing my digital garden with Quarto tools üå±.</p>
</section><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">
<p>Featured photo by <a href="https://unsplash.com/@anneliesgeneyn?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Annelies Geneyn</a> on <a href="https://unsplash.com/photos/bhBONc07WsI?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a>.</p>


</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>
<ol>
<li id="fn1"><p>See also <a href="https://www.technologyreview.com/2020/09/03/1007716/digital-gardens-let-you-cultivate-your-own-little-bit-of-the-internet/">Digital gardens let you cultivate your own little bit of the internet | MIT Technology Review</a><a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p>By adding an underscore prefix (e.g., _index.Rmarkdown)<a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p>I.e., index.markdown<a href="#fnref3" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn4"><p>A CSS design system used in the Hugo Ap√©ro theme: <a href="https://tachyons.io" class="uri">https://tachyons.io</a><a href="#fnref4" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn5"><p>For more on custom theming, see <a href="https://quarto.org/docs/output-formats/html-themes.html#custom-themes">Quarto - HTML Theming</a> and <a href="https://quarto.org/docs/output-formats/html-themes-more.html">Quarto - More About Quarto Themes</a><a href="#fnref5" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn6"><p>Don‚Äôt skip this step! People will almost certainly have shared one or more of your posts somewhere on the internet, and it helps everyone if you can point them to the right spot<a href="#fnref6" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-canel√≥n2023" class="csl-entry quarto-appendix-citeas" role="listitem">
Canel√≥n, Silvia. 2023. <span>‚ÄúHello Quarto: Porting My Website from Hugo
Ap√©ro.‚Äù</span> September 29, 2023. <a href="https://silviacanelon.com/blog/2023-09-29-hello-quarto/">https://silviacanelon.com/blog/2023-09-29-hello-quarto/</a>.
</div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/silviacanelon\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><script src="https://utteranc.es/client.js" repo="spcanelon/silvia" issue-term="title" theme="boxy-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>¬© 2023 Silvia Canel√≥n ‚àô Made with <a href="https://quarto.org">Quarto</a></p>
</div>   
    <div class="nav-footer-center">
<p><a class="link-dark me-1" href="../../accessibility.html" title="Accessibility commitment" target="_blank" rel="noopener"><i class="fa-solid fa-universal-access" aria-label="universal-access"></i></a> <a class="link-dark me-1" href="https://spcanelon.substack.com" title="Substack" target="_blank" rel="noopener"><i class="bi-substack " style="" role="img" aria-hidden="true"></i></a> <a class="link-dark me-1" href="https://github.com/spcanelon" title="github" target="_blank" rel="noopener"><i class="fa-brands fa-github" aria-label="github"></i></a> <a class="link-dark me-1" href="https://linkedin.com/in/spcanelon" title="LinkedIn" target="_blank" rel="noopener"><i class="fa-brands fa-linkedin" aria-label="linkedin"></i></a> <a class="link-dark me-1" href="https://hachyderm.io/@spcanelon" title="mastodon" target="_blank" rel="noopener"><i class="fa-brands fa-mastodon" aria-label="mastodon"></i></a> <a class="link-dark me-1" href="https://orcid.org/0000-0003-1709-1394" title="orcid" target="_blank" rel="noopener"><i class="ai  ai-orcid"></i></a> <a class="link-dark me-1" href="https://scholar.google.com/citations?user=GAzkvpcAAAAJ&amp;hl=en&amp;oi=ao" title="Google Scholar" target="_blank" rel="noopener"><i class="ai  ai-google-scholar"></i></a></p>
</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="../../accessibility.html">
<p>Accessibility</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../contact.html">
<p>Contact</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../license.html">
<p>License</p>
</a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="../../blog/index.xml">
      <i class="bi bi-rss" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"descPosition":"bottom","closeEffect":"zoom","openEffect":"zoom","selector":".lightbox","loop":false});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>